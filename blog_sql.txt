
create table users(
id serial NOT NULL primary key,
username varchar(50) not null,
password varchar(50) not null,
email varchar(50) null
);


create table posts(
postId serial primary key,
author varchar(50),
authorId int not null,
title varchar(50),
createDate DATE not null default current_date,
updateDate DATE null default null,
content varchar(300) default null,
constraint fk_author
foreign key(authorId)
references users(id)
);

create table comments(
commentId serial not null primary key,
postId int not null,
parrentId int default null,
title varchar(100) not null,
createDate Date default current_date,
constraint fk_cmt
foreign key (postId)
references posts(postid),
constraint fk_cmt_parent
foreign key (parrentId)
references comments(commentId)
);

create table tag(
tagId serial not null primary key,
title varchar(20) not null
);

create table post_tag(
postId int not null,
tagId int not null,
primary key(postId, tagId),
constraint fk_post
foreign key (postId)
references posts(postid),
constraint fk_tag
foreign key (tagId)
references tag(tagId)
);

create table categories(
catId serial primary key not null,
title varchar(20) not null);

create table post_cat(
postId int not null,
catId int not null,
primary key (postId, catId),
constraint fk_post foreign key (postId) references posts(postid),
constraint fk_cat foreign key (catId) references categories(catId)
);
